# AutoPoster Backend

Backend-часть сервиса для автоматической публикации контента: планирование постов, интеграции с соцсетями, аналитика и биллинг.  
Репозиторий оформлен как монорепозиторий с несколькими микросервисами.

> **Основная идея:**  
> Планировщик + интеграции с соцсетями + AI-обработчик текста/медиа + аналитика + платежи, собранные за одним API-шлюзом.

---

## Архитектура

Структура репозитория:

- `gateway/` – HTTP API-шлюз
  - единая точка входа для фронтенда и внешних клиентов;
  - пробрасывает запросы в остальные микросервисы;
  - отвечает за авторизацию и базовую валидацию запросов.

- `scheduler-api/` – сервис планирования постов
  - хранит расписание публикаций;
  - создаёт/обновляет задачи постинга;
  - дергает интеграции с соцсетями в нужное время.

- `social-api/telegram-grpc/` – интеграция с Telegram
  - gRPC-сервис для работы с Telegram Bot API;
  - отправка/редактирование/удаление сообщений;
  - используется `scheduler-api` и/или `gateway`.

- `ai-processor/` – AI-обработчик контента
  - генерация/перефразирование текста постов;
  - подготовка описаний, заголовков и т.п.;
  - может вызываться из `gateway` или `scheduler-api`.

- `analytics/` – сервис аналитики
  - сбор и агрегация статистики по постам (просмотры, клики и т.д.);
  - подготовка данных для графиков/дашбордов.

- `payment-service/` – платежи и подписки
  - интеграция с платежными провайдерами;
  - создание/проверка подписок;
  - обработка входящих вебхуков (успешная оплата, отмена и т.п.).

- `supabase/` – база данных и миграции
  - SQL-скрипты/функции для Supabase/PostgreSQL;
  - схемы таблиц, триггеры, вспомогательные функции.

---

## Технологии

- **Язык:** Python (основной код микросервисов)
- **База данных:** PostgreSQL / Supabase
- **Архитектура:** микросервисы
- **Взаимодействие сервисов:** HTTP/gRPC
- **CI/CD:** GitLab CI (`.gitlab-ci.yml`)

---

## Требования

- Python 3.11+ (рекомендуется)
- PostgreSQL / Supabase (для работы БД)
- Git
- Опционально:
  - Docker / Docker Compose (если будет добавлена контейнеризация)
  - Poetry или pip для установки зависимостей


